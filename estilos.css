/* ============== 0. VARIABLES ============== */
:root{
  --bg:#ffffff; --ink:#111111; --muted:#6f7076;
  --sand:#f4efe9; --line:#e8e3dd; --terra1:#f3e7dd; --terra2:#ecdacd;
  --radius:12px;
}
@media (prefers-color-scheme: dark){
  :root{ --bg:#0f1012; --ink:#ededf0; --muted:#a8adba; --sand:#191715; --line:#26221e; --terra1:#2a221d; --terra2:#251f1b }
}

/* ============== 1. BASE ============== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family:"Manrope",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  line-height:1.7; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
img{max-width:100%; height:auto; display:block}
:focus-visible{outline:2px solid #000; outline-offset:2px}
.sr-only{position:absolute;width:1px;height:1px;clip:rect(0,0,0,0);overflow:hidden}

/* Utilidades */
.wrap{max-width:1120px; margin:0 auto; padding:24px}
.grid-2{display:grid; gap:32px}
.stack{display:flex; flex-direction:column; gap:16px; align-items:center; text-align:center}
.tiny{display:flex; flex-direction:column; gap:8px; align-items:center}
.lead{color:var(--muted); max-width:64ch}
.italic{font-style:italic}

/* Titulares + botones */
h1,h2,h3{margin:0 0 12px; line-height:1.14; font-weight:800; color:var(--ink)}
h1{font-size:clamp(38px,6vw,62px)}
h2{font-size:clamp(26px,4.2vw,38px)}
h3{font-size:clamp(18px,2.6vw,22px)}
.sub{border-bottom:2px solid var(--ink); padding-bottom:2px}
.btn{display:inline-block; padding:10px 18px; border-radius:999px; text-decoration:none; font-weight:800; letter-spacing:.04em; color:#111; background:transparent; border:1px solid var(--ink); transition:.18s}
.btn:hover{background:#111; color:#fff}
.btn-solid{background:transparent; color:var(--ink); border:1px solid var(--ink)}
.btn-solid:hover{background:#111; color:#fff; border-color:#111}
.btn-primary{background:#111; color:#fff; border-color:#111}
.btn-light{background:transparent; border:1px solid var(--line); color:var(--ink)}
.btn-light:hover{background:#111; color:#fff; border-color:#111}
.btn-ghost{
  color:#fff;
  border:1px solid #fff;
  background:transparent;
}
.btn-ghost:hover{
  background:#fff;
  color:#000;
  border-color:#fff;
}

/* ============== 2. NAV ============== */
.nav{position:sticky; top:0; z-index:30; background:rgba(255,255,255,.9); backdrop-filter:blur(8px); border-bottom:1px solid var(--line)}
@media (prefers-color-scheme: dark){ .nav{background:rgba(15,16,18,.85)} }
.nav .wrap{display:flex; justify-content:space-between; align-items:center}
.brand{ text-decoration:none; color:var(--ink); letter-spacing:.18em; font-weight:900; font-size:20px }
.links{display:none; gap:22px; align-items:center}
.links a{ color:var(--ink); text-decoration:none; font-weight:800; letter-spacing:.15em; font-size:12px }
.links a:hover{text-decoration:underline}
.menu{background:none; border:0; font-size:22px; color:var(--ink)}
@media (min-width:900px){ .links{display:flex} .menu{display:none} }
.links.open{display:flex; flex-direction:column; gap:12px; margin-top:8px}

/* ============== 3. HERO / 4. SECCIONES / 5. FULLBLEED ============== */
.hero{position:relative; overflow:hidden}
.hero-photo{min-height:76vh; display:grid; place-items:center}
.hero-inner{position:relative; z-index:2}
.hero .text{max-width:720px; color:#fff}
.hero .text h1,.hero .text .sub,.hero .text .lead,.hero .text strong{ color:#fff; text-shadow:0 2px 6px rgba(0,0,0,.5) }
.lead-hero{ line-height:1.85; max-width:58ch }
.hero .badges{display:flex; gap:10px; flex-wrap:wrap; margin:14px 0}
.hero .badges span{ font-size:11px; padding:6px 10px; border:1px solid var(--line); border-radius:999px; color:#fff; background:rgba(0,0,0,.38); letter-spacing:.12em; font-weight:800; transition:.18s }
.hero .badges span:hover{ transform: translateY(-2px); filter: brightness(1.08) }
.hero-bg{ position:absolute; inset:-10% -10% -10% -10%; background:
  radial-gradient(1000px 520px at 8% 18%, var(--terra1) 0%, transparent 60%),
  radial-gradient(1000px 560px at 92% 12%, var(--terra2) 0%, transparent 65%),
  var(--bg) }
.hero-bg::after{ content:""; position:absolute; inset:0; background-image:var(--img); background-size:cover; background-position:center; transform: translate(var(--tx,0), var(--ty,0)) scale(1.06); transition:.2s; z-index:0; opacity:.9 }
.hero-veil{ position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.35) 40%, rgba(0,0,0,.08) 70%); mix-blend-mode:multiply; z-index:1 }
@media (prefers-color-scheme: dark){ .hero-veil{background:linear-gradient(180deg, rgba(0,0,0,.6), rgba(0,0,0,.42) 40%, rgba(0,0,0,.18) 70%)} }

.section{padding:72px 0}
.alt{background:var(--sand)}
@media (prefers-color-scheme: dark){ .alt{background:#131417} }

/* ===== Cards genéricos (comparten estilo) */
.cards-3{
  display:grid;
  gap:18px;
  grid-template-columns:repeat(3,1fr);
  align-items:stretch;                /* todas las tarjetas igual de altas */
}
@media (min-width:900px){ .cards-3{grid-template-columns:repeat(3,1fr)} }
@media (max-width:900px){ .cards-3{grid-template-columns:1fr} }

.cards-3 .card{
  background:var(--sand);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:20px;
  box-shadow:0 10px 24px rgba(0,0,0,.03);
  display:flex;
  flex-direction:column;
  height:100%;
  transition:.22s;
}
@media (prefers-color-scheme: dark){
  .cards-3 .card{ background:#121316; border-color:#20232a; box-shadow:none }
}
.cards-3 .card:hover{ transform: translateY(-4px); box-shadow:0 14px 28px rgba(0,0,0,.06) }
.cards-3 .card h3{font-weight:800}
.cards-3 .card p{margin:8px 0 0}

/* Botones dentro de cards: al fondo y centrados, ancho natural */
.cards-3 .card .btn{
  margin-top:auto;
  align-self:center;
  width:auto;
  white-space:nowrap;
}

/* FULLBLEED */
.fullbleed{ position:relative; min-height:44vh; display:grid; place-items:center; overflow:hidden; --tx:0; --ty:0 }
.fullbleed::before{ content:""; position:absolute; inset:-8%; background-image:var(--img); background-size:cover; background-position:50% var(--y,50%); transform: translate(var(--tx), var(--ty)) scale(1.00); transition: .25s ease-out }
.fullbleed-veil{ position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,.14)) }
.fullbleed-text{ position:relative; z-index:2; color:#fff; letter-spacing:.2em; font-weight:800; text-transform:uppercase }

/* ============== 6. SOBRE MÍ ============== */
#sobre.section{ background: var(--bg); border-top: 1px solid var(--line); border-bottom: 1px solid var(--line); position: relative; overflow:hidden }
.about-v2{ display:grid; gap:34px; grid-template-columns: 1fr 1fr; align-items:start }
#sobre .copy{ position:relative; padding-bottom:18px }
#sobre .copy::after{ content:""; position:absolute; left:0; bottom:0; width:72px; height:2px; background: color-mix(in srgb, var(--ink) 80%, transparent); opacity:.35; border-radius:2px }
#sobre .copy p{ margin:12px 0 0; line-height:1.85; max-width:68ch; color: color-mix(in srgb, var(--ink) 85%, var(--muted)) }
.eyebrow{ font-size:12px; letter-spacing:.18em; text-transform:uppercase; color:var(--muted); margin:0 0 6px }
#sobre .photo-col{ display:flex; flex-direction:column; align-items:center; gap:14px }
#sobre .portrait{ margin:0 }
#sobre .portrait .portrait-frame{ 
  position:relative; 
  overflow:hidden; 
  border-radius:12px; 
  max-width:100%;   /* elimina width:auto redundante */
}

#sobre .portrait .portrait-pan{ 
  display:block; 
  max-width:100%;   /* asegura que no se pase del ancho */
  height:auto;      /* respeta proporción natural */
  object-fit:contain; 
  transform: translate(var(--tx,0), var(--ty,0)) scale(1.06); 
  transition:.22s 
}

/* Botón centrado abajo entre columnas */
.about-cta{ grid-column:1 / -1; justify-self:center; margin-top:6px }
@media (max-width: 959px){ .about-v2{ grid-template-columns:1fr } }

/* ============== 7. GALERÍA ============== */
.gallery{ display:grid; gap:16px; grid-template-columns:repeat(3,1fr) }
@media (max-width:900px){ .gallery{ grid-template-columns:1fr } }
.tile{ position:relative; overflow:hidden; border-radius:16px; border:1px solid var(--line); background:#000 }
.tile img{ width:100%; height:100%; object-fit:cover; aspect-ratio:4/3; opacity:.92; transition:.5s, opacity .3s }
.tile:hover img{ transform: scale(1.04); opacity:1 }
.tile figcaption{ position:absolute; left:12px; bottom:10px; color:#fff; font-weight:700; text-shadow:0 2px 14px rgba(0,0,0,.55) }

/* ============== 8. TESTIMONIOS (simétricos + aire + ver más) ============== */
#testimonios.section{ position:relative; overflow:hidden; padding: clamp(48px, 7vw, 68px) 0 }
#testimonios.section::before{
  content:""; position:absolute; inset:-8%; z-index:0;
  background-image:image-set(url('ramitas.webp') type('image/webp'), url('ramitas.webp') type('image/jpeg'));
  background-size:cover; background-position:50% 50%;
  transform: translate(var(--tx,0), var(--ty,0)) scale(1.00);
  transition:.25s;
}
#testimonios.section::after{
  content:""; position:absolute; inset:0; z-index:1; pointer-events:none; background:rgba(0,0,0,.35);
}
/* MUY IMPORTANTE: el contenido va por encima del velo */
#testimonios .wrap{ position:relative; z-index:2; max-width:1240px; padding:24px 32px }
#testimonios h2{ color:#fff; text-shadow:0 2px 6px rgba(0,0,0,.6); margin:0 0 44px }

/* Rejilla 3 columnas con buen aire */
.quotes{ display:grid; gap:28px; grid-template-columns:1fr }
@media (min-width:900px){ .quotes{ grid-template-columns:repeat(3,1fr) } }

blockquote{
  margin:0; padding:18px 20px; background:#fff; border:1px solid var(--line);
  border-radius:14px; display:flex; flex-direction:column; min-height:260px;
}
blockquote .q{
  margin:0; color:var(--ink);
  display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:7; overflow:hidden;
}
blockquote.open .q{ -webkit-line-clamp:unset }
blockquote .author{ display:block; color:var(--muted); margin-top:10px }
blockquote .more{
  align-self:flex-start; margin-top:10px; font-weight:800; font-size:.92rem;
  text-decoration:underline; cursor:pointer; color:var(--ink); background:none; border:none; padding:0;
}

/* ============== 9. RECURSOS ============== */
#recursos .resources-head{ max-width:760px }
#recursos .resources-head .form{ display:flex; gap:10px; flex-wrap:wrap; margin:12px 0 }
#recursos .resources-head .form input{
  flex:1 1 260px; padding:12px 16px; border:1px solid var(--line);
  border-radius:999px; background:transparent; color:inherit; font:inherit;
}

.resources-grid{
  list-style:none; padding:0; margin:28px 0 0;
  display:grid; gap:18px;
  grid-template-columns:1fr;
}
@media (min-width:680px){ .resources-grid{ grid-template-columns:repeat(2,1fr) } }
@media (min-width:1024px){ .resources-grid{ grid-template-columns:repeat(4,1fr) } }

.resource-card{
  display:flex; flex-direction:column; 
  gap:8px; 
  align-items:flex-start;
  padding:16px 18px; 
  text-decoration:none; 
  background:#f4efe9; 
  color:var(--ink);
  border:1px solid var(--line); 
  border-radius:16px; 
  box-shadow:0 6px 16px rgba(0,0,0,.04);
  transition:transform .18s ease, box-shadow .18s ease, background .18s ease;
  height:100%; 
  min-height:220px;
}
.resource-card:hover{ transform:translateY(-3px); box-shadow:0 10px 24px rgba(0,0,0,.08) }

.res-icon img{ width:24px; height:24px; display:block; filter:invert(1) }
.res-title{ margin:0; font-size:1rem; font-weight:800 }
.res-sub{ margin:0; font-size:.93rem; color: color-mix(in srgb, var(--ink) 75%, var(--muted)); max-width:32ch }
.res-cta{ 
  margin-top:auto; 
  align-self:center;           /* centrado */
  width:auto;                  /* ancho natural */
  padding:8px 14px; 
  border-radius:999px; 
  font-weight:800; 
  letter-spacing:.02em; 
  border:1px solid var(--ink); 
  color:var(--ink); 
  background:transparent;
}
.resource-card:hover .res-cta{ background:#111; color:#fff; border-color:#111 }

/* ============== 10. CTA / FOOTER / REVEAL ============== */
.cta{padding:80px 0; background:linear-gradient(180deg, var(--bg), var(--sand))}
@media (prefers-color-scheme: dark){ .cta{background:linear-gradient(180deg,#0f1012,#131417)} }
.footer{border-top:1px solid var(--line); background:#fff; color:#4b4f55}
.footer nav a{color:inherit; text-decoration:none}
.footer nav a:hover{color:#111}
.footer p{margin:6px 0 0}
@media (prefers-color-scheme: dark){ .footer{background:#0f1012; color:#9aa1ac} }

.reveal{ opacity:0; transform: translateY(14px) }
.reveal--visible{ opacity:1; transform:none; transition: opacity .45s ease, transform .45s ease }
@media (prefers-reduced-motion: reduce){ *{animation:none!important; transition:none!important; scroll-behavior:auto!important} }

.notice{ margin-top:12px; padding:12px 14px; border:1px solid var(--line); border-radius:12px; background:var(--sand); color:var(--ink); max-width:48ch; font-size:.95rem }
#gracias{ display:none }

/* ===== Footer mejorado ===== */
.footer { border-top: 1px solid var(--line); background: #fff; color: #4b4f55 }
@media (prefers-color-scheme: dark){ .footer{ background:#0f1012; color:#9aa1ac } }

.footer .footer-inner{
  display:flex; flex-direction:column; align-items:center; gap:14px;
  padding:24px;
}

.footer .social{
  display:flex; gap:12px; align-items:center; justify-content:center;
}
.footer .social a{
  width:40px; height:40px; display:grid; place-items:center; border-radius:50%;
  background:#111; border:1px solid #111; transition:transform .18s ease, filter .18s ease, background .18s ease;
}
.footer .social a:hover{ transform:translateY(-2px) }
.footer .social img{ width:22px; height:22px; display:block; filter:none }

@media (prefers-color-scheme: dark){
  .footer .social a{ background:#ededf0; border-color:#ededf0 }
  .footer .social img{ filter:invert(1) }
}

.footer .footer-links{ text-align:center }
.footer .footer-links a{ color:inherit; text-decoration:none; }
.footer .footer-links a:hover{ color:#111; text-decoration:underline }
@media (prefers-color-scheme: dark){ .footer .footer-links a:hover{ color:#ededf0 } }

.footer .disclaimer{
  max-width:80ch; margin:2px 0 0; text-align:center;
  font-size:12px; line-height:1.6; color: var(--muted);
}
.footer .copy{ margin:0; font-size:13px; color: color-mix(in srgb, var(--ink) 55%, var(--muted)) }
