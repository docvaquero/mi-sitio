/* =========================================================
   0. VARIABLES (PALETA) + TIPOGRAFÍA
   ========================================================= */
:root{
  --bg:#ffffff;
  --ink:#111111;
  --muted:#6f7076;
  --sand:#f4efe9;
  --line:#e8e3dd;
  --terra1:#f3e7dd;
  --terra2:#ecdacd;
  --radius:12px;
}
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0f1012; --ink:#ededf0; --muted:#a8adba;
    --sand:#191715; --line:#26221e;
    --terra1:#2a221d; --terra2:#251f1b;
  }
}

/* =========================================================
   1. BASE / RESET LIGERO
   ========================================================= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family:"Manrope", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  line-height:1.7; text-rendering:optimizeLegibility; -webkit-font-smoothing:antialiased;
}
img{max-width:100%; height:auto; display:block}
:focus-visible{outline:2px solid #000; outline-offset:2px}
.sr-only{position:absolute;width:1px;height:1px;clip:rect(0,0,0,0);overflow:hidden}

/* =========================================================
   1A. UTILIDADES COMUNES
   ========================================================= */
.wrap{max-width:1120px; margin:0 auto; padding:24px}
.grid-2{display:grid; gap:32px}
@media (min-width:960px){ .grid-2{grid-template-columns:1.25fr .75fr} }
.stack{display:flex; flex-direction:column; gap:16px; align-items:center; text-align:center}
.tiny{display:flex; flex-direction:column; gap:8px; align-items:center}
.lead{color:var(--muted); max-width:64ch}
.italic{font-style:italic}

/* =========================================================
   1B. TITULARES
   ========================================================= */
h1,h2,h3{margin:0 0 12px; line-height:1.14; font-weight:800; color:var(--ink)}
h1{font-size:clamp(38px,6vw,62px)}
h2{font-size:clamp(26px,4.2vw,38px)}
h3{font-size:clamp(18px,2.6vw,22px)}
.sub{border-bottom:2px solid var(--ink); padding-bottom:2px}

/* =========================================================
   1C. BOTONES
   ========================================================= */
.btn{
  display:inline-block; padding:10px 18px; border-radius:999px;
  text-decoration:none; font-weight:800; letter-spacing:.04em;
  color:#111; background:transparent; border:1px solid var(--ink);
  transition:transform .18s ease, background .18s ease, color .18s ease, box-shadow .18s ease;
}
.btn:hover{ background:#111; color:#fff; }
.btn-ghost{border-color:var(--ink)}
.btn-solid { background:transparent; color:var(--ink); border:1px solid var(--ink) }
.btn-solid:hover { background:#111; color:#fff; border-color:#111 }
.btn-primary{background:#111; color:#fff; border-color:#111}
.btn-light{background:transparent; border:1px solid var(--line); color:var(--ink)}
.btn-light:hover{background:#111; color:#fff; border-color:#111}
.read-more-btn {
  display: inline-block;
  margin-top: 0.5rem;
  color: var(--ink);
  font-size: 0.9rem;
  cursor: pointer;
  text-decoration: underline;
}
/* =========================================================
   2. NAV
   ========================================================= */
.nav{
  position:sticky; top:0; z-index:30;
  background:rgba(255,255,255,.9); backdrop-filter:blur(8px);
  border-bottom:1px solid var(--line);
}
@media (prefers-color-scheme: dark){ .nav{background:rgba(15,16,18,.85)} }
.nav .wrap{display:flex; justify-content:space-between; align-items:center}
.brand{ text-decoration:none; color:var(--ink); letter-spacing:.18em; font-weight:900; font-size: 20px }
.links{display:none; gap:22px; align-items:center}
.links a{ color:var(--ink); text-decoration:none; font-weight:800; letter-spacing:.15em; font-size:12px; }
.links a:hover{text-decoration:underline}
.menu{background:none; border:0; font-size:22px; color:var(--ink)}
@media (min-width:900px){ .links{display:flex} .menu{display:none} }
.links.open{display:flex; flex-direction:column; gap:12px; margin-top:8px}

/* =========================================================
   3. HERO (CON FOTO + VELO)
   ========================================================= */
.hero{position:relative; overflow:hidden}
.hero-photo{min-height:76vh; display:grid; place-items:center}
.hero-inner{position:relative; z-index:2}
.hero .text{max-width:720px; color:#fff;}
.hero .text h1,.hero .text .sub,.hero .text .lead,.hero .text strong{
  color:#fff; text-shadow:0 2px 6px rgba(0,0,0,.5);
}
.lead-hero{ line-height:1.85; max-width:58ch; }

.hero .badges{display:flex; gap:10px; flex-wrap:wrap; margin:14px 0}
.hero .badges span{
  font-size:11px; padding:6px 10px; border:1px solid var(--line);
  border-radius:999px; color:#fff; background:rgba(0,0,0,.38);
  letter-spacing:.12em; font-weight:800; transition: transform .18s ease, filter .18s ease;
}
.hero .badges span:hover{ transform: translateY(-2px); filter: brightness(1.08); }

.hero-bg{
  position:absolute; inset:-10% -10% -10% -10%;
  background:
    radial-gradient(1000px 520px at 8% 18%, var(--terra1) 0%, transparent 60%),
    radial-gradient(1000px 560px at 92% 12%, var(--terra2) 0%, transparent 65%),
    var(--bg);
}
.hero-bg::after{
  content:""; position:absolute; inset:0;
  background-image:var(--img);
  background-size:cover; background-position:center;
  transform: translate(var(--tx,0), var(--ty,0)) scale(1.06);
  transition: transform .2s ease-out; will-change: transform;
  z-index:0; opacity:.9;
}
.hero-veil{
  position:absolute; inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.35) 40%, rgba(0,0,0,.08) 70%);
  mix-blend-mode:multiply; z-index:1;
}
@media (prefers-color-scheme: dark){
  .hero-veil{background:linear-gradient(180deg, rgba(0,0,0,.6), rgba(0,0,0,.42) 40%, rgba(0,0,0,.18) 70%)}
}

/* =========================================================
   4. SECCIONES BASE + CARDS
   ========================================================= */
.section{padding:72px 0}
.alt{background:var(--sand)}
@media (prefers-color-scheme: dark){ .alt{background:#131417} }

.cards-3{display:grid; gap:18px}
@media (min-width:900px){ .cards-3{grid-template-columns:repeat(3,1fr)} }
.card{
  background:var(--sand); border:1px solid var(--line); border-radius:var(--radius);
  padding:20px; box-shadow:0 10px 24px rgba(0,0,0,.03);
  transition: transform .22s ease, box-shadow .22s ease;
}
@media (prefers-color-scheme: dark){
  .card{background:#121316; border-color:#20232a; box-shadow:none}
}
.card:hover{ transform: translateY(-4px); box-shadow:0 14px 28px rgba(0,0,0,.06) }
.card h3{font-weight:800}
.card p{margin:8px 0 0}

/* ======== PERSONALIZACIÓN "Cómo puedo ayudarte" ======== */
#servicios .card{ background:var(--sand); border-color:var(--line); box-shadow:0 6px 14px rgba(0,0,0,.04) }
@media (prefers-color-scheme: dark){ #servicios .card{ background:#151516; border-color:#242428 } }
#servicios .card .btn{ background:#fff; color:#111; border:1px solid #fff; padding:8px 16px; font-weight:800 }
#servicios .card .btn:hover{ background:#111; color:#fff; border-color:#111 }

/* =========================================================
   5. FULLBLEED (BANDA VISUAL)
   ========================================================= */
.fullbleed{
  position:relative; min-height:44vh; display:grid; place-items:center;
  overflow:hidden; --tx:0px; --ty:0px;
}
.fullbleed::before{
  content:""; position:absolute; inset:-8%;
  background-image:var(--img); background-size:cover; background-position:50% var(--y,50%);
  transform: translate(var(--tx), var(--ty)) scale(1.00);
  transition: transform .25s ease-out; will-change: transform;
}
.fullbleed-veil{ position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,.14)) }
.fullbleed-text{ position:relative; z-index:2; color:#fff; letter-spacing:.2em; font-weight:800; text-transform:uppercase }

/* =========================================================
   6. SOBRE MÍ (texto izq – foto der; parallax interno; fondo blanco)
   ========================================================= */
#sobre.section{
  background: var(--bg);
  border-top: 1px solid var(--line);
  border-bottom: 1px solid var(--line);
  position: relative; overflow:hidden;
}
#sobre.section::after{ content:none; }

.about-v2{
  display:grid; gap:34px;
  grid-template-columns: 1fr 1fr;  /* [texto | foto] */
  align-items:start;
}

/* Texto */
#sobre .copy{ position:relative; padding-bottom:18px }
#sobre .copy::after{
  content:""; position:absolute; left:0; bottom:0; width:72px; height:2px;
  background: color-mix(in srgb, var(--ink) 80%, transparent); opacity:.35; border-radius:2px;
}
#sobre .copy p{
  margin:12px 0 0; line-height:1.85; max-width:68ch;
  color: color-mix(in srgb, var(--ink) 85%, var(--muted));
}
.eyebrow{ font-size:12px; letter-spacing:.18em; text-transform:uppercase; color:var(--muted); margin:0 0 6px }

/* Foto (marco fijo + pan interior) */
#sobre .photo-col{ display:flex; flex-direction:column; align-items:center; gap:14px }
#sobre .portrait{ margin:0 }
#sobre .portrait .portrait-frame{
  position:relative; overflow:hidden; border-radius:12px;
  /* El alto y ancho exactos los setea el JS para alinear arriba/abajo */
  width:auto; max-width:100%;
}
#sobre .portrait .portrait-pan{
  display:block; width:100%; height:100%;
  object-fit:contain;              /* NO recorta ni deforma */
  transform: translate(var(--tx,0), var(--ty,0)) scale(1.06); /* pan interior suave */
  transition: transform .22s ease-out; will-change: transform;
  background:transparent; border:none; box-shadow:none;
}
/* Botón centrado con el marco */
#sobre .photo-col .btn{ align-self:center }

/* Responsive */
@media (max-width: 959px){
  .about-v2{ grid-template-columns:1fr }
  #sobre .portrait .portrait-frame{ width:min(92vw, 560px) }
}

/* =========================================================
   7. GALERÍA
   ========================================================= */
.gallery{ display:grid; gap:16px; grid-template-columns:repeat(3,1fr) }
@media (max-width:900px){ .gallery{ grid-template-columns:1fr } }
.tile{ position:relative; overflow:hidden; border-radius:16px; border:1px solid var(--line); background:#000 }
.tile img{ width:100%; height:100%; object-fit:cover; aspect-ratio:4/3; opacity:.92; transition: transform .5s ease, opacity .3s ease }
.tile:hover img{ transform: scale(1.04); opacity:1 }
.tile figcaption{ position:absolute; left:12px; bottom:10px; color:#fff; font-weight:700; text-shadow:0 2px 14px rgba(0,0,0,.55) }

/* =========================================================
   8. TESTIMONIOS (con fondo + parallax)
   ========================================================= */
.quotes{display:grid; gap:16px}
@media (min-width:900px){ .quotes{grid-template-columns:repeat(3,1fr)} }
blockquote{margin:0; padding:18px 20px; background:#fff; border:1px solid var(--line); border-radius:var(--radius)}
blockquote span{display:block; color:var(--muted); margin-top:8px}

#testimonios.section{ position:relative; overflow:hidden }
#testimonios.section::before{
  content:""; position:absolute; inset:-8%; z-index:0;
  background-image:image-set(url('ramitas.webp') type('image/webp'), url('ramitas.webp') type('image/jpeg'));
  background-size:cover; background-position:50% 50%;
  transform: translate(var(--tx,0), var(--ty,0)) scale(1.00);
  transition: transform .25s ease-out; will-change: transform;
}
#testimonios.section::after{ content:""; position:absolute; inset:0; z-index:1; pointer-events:none; background:rgba(0,0,0,.35) }
#testimonios.section .wrap{ position:relative; z-index:2 }
#testimonios.section h2{ color:#fff; text-shadow:0 2px 6px rgba(0,0,0,.6) }

/* =========================================================
   9. RECURSOS
   ========================================================= */
.form{display:flex; gap:10px; flex-wrap:wrap; margin:12px 0}
.form input{
  flex:1 1 260px; padding:12px 16px; border:1px solid var(--line);
  border-radius:999px; background:transparent; color:inherit; font:inherit;
}
.pills{ display:flex; gap:10px; flex-wrap:wrap }
.pill{
  display:inline-block; padding:14px 20px; border-radius:16px; text-decoration:none;
  font-weight:700; letter-spacing:.02em; background:#111; color:#fff; border:1px solid #111;
  box-shadow:0 3px 8px rgba(0,0,0,.12);
  transition: transform .18s ease, background .18s ease, color .18s ease, box-shadow .18s ease;
}
.pill:hover{ transform:translateY(-3px); background:#222; border-color:#222; box-shadow:0 5px 12px rgba(0,0,0,.18) }
.pill img{ width:18px; height:18px; object-fit:contain; display:inline-block; vertical-align:middle; margin-right:8px; filter:invert(0) }

/* =========================================================
   10. CTA + FOOTER
   ========================================================= */
.cta{padding:80px 0; background:linear-gradient(180deg, var(--bg), var(--sand))}
@media (prefers-color-scheme: dark){ .cta{background:linear-gradient(180deg,#0f1012,#131417)} }
.footer{border-top:1px solid var(--line); background:#fff; color:#4b4f55}
.footer nav a{color:inherit; text-decoration:none}
.footer nav a:hover{color:#111}
.footer p{margin:6px 0 0}
@media (prefers-color-scheme: dark){ .footer{background:#0f1012; color:#9aa1ac} }

/* =========================================================
   11. REVEAL ON SCROLL
   ========================================================= */
.reveal{ opacity:0; transform: translateY(14px) }
.reveal--visible{ opacity:1; transform:none; transition: opacity .45s ease, transform .45s ease }

/* =========================================================
   12. REDUCED MOTION
   ========================================================= */
@media (prefers-reduced-motion: reduce){
  *{animation:none!important; transition:none!important; scroll-behavior:auto!important}
}

/* ===== Aviso de Gracias (form Recursos) ===== */
.notice{
  margin-top:12px; padding:12px 14px; border:1px solid var(--line);
  border-radius:12px; background:var(--sand); color:var(--ink);
  max-width:48ch; font-size:.95rem;
}
#gracias{ display:none }
